webpackJsonp([1],{"6VMD":function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container",attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var i=a("VU/8")({name:"App"},s,!1,function(t){a("6VMD")},null,null).exports,d=a("/ocq"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"hello"},[e("h1",[this._v(this._s(this.msg))]),this._v(" "),e("router-link",{attrs:{to:"/editor"}},[this._v("Editor")])],1)},staticRenderFns:[]};var r=a("VU/8")({name:"HelloWorld",data:function(){return{msg:"HELLO WORLD!!! sjkdhfkjshdkfjhskdj"}}},o,!1,function(t){a("bpV/")},"data-v-4d8a89c8",null).exports,l=a("mvHQ"),c=a.n(l),u={name:"Editor",data:function(){return{graph:null,view:null,nodes:[],renderer:null,nodeTemplate:{id:1,data:{name:"test"}},selectedNode:null}},created:function(){var t=document.createElement("link");t.href="/static/fontawesome-6.4.0/css/all.css",t.type="text/css",t.rel="stylesheet",document.getElementsByTagName("head")[0].appendChild(t),this.graph=Viva.Graph.graph(),this.view=Viva.Graph.View},mounted:function(){var t=this.view.svgGraphics();t.node(function(t){return Viva.Graph.svg("text").attr("width",24).attr("height",24).text(t.data.name)}).placeNode(function(t,e){t.attr("x",e.x-12).attr("y",e.y-12)}),this.renderer=this.view.renderer(this.graph,{interactive:"nodes",container:document.getElementById("graph"),graphics:t}),window.test=this.renderer,window.graph=this.graph,this.renderer.run()},computed:{linksNodes:function(){var t=[];return this.nodes.map(function(e){t.push({id:e.id,name:e.data.name})}),t}},methods:{addNode:function(){this.nodeTemplate.id++;var t=JSON.parse(c()(this.nodeTemplate)),e=this.graph.addNode(t.id,t.data);this.nodes.push(e)},addLink:function(t){this.selectedNode.id!==t.target.value&&this.graph.addLink(this.selectedNode.id,t.target.value)},updateNode:function(){this.graph.addNode(this.selectedNode.id,this.selectedNode.data)}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[t._m(0),t._v(" "),a("div",{staticClass:"col-4"},[a("h1",[t._v("Меню управления")]),t._v(" "),a("button",{staticClass:"btn btn-info mb-3",attrs:{type:"button"},on:{click:t.addNode}},[t._v("Добавить локацию")]),t._v(" "),a("div",{staticClass:"row"},[null!==t.selectedNode?a("div",{staticClass:"col-12 mb-5"},[a("h2",[t._v("Настройки локации")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedNode.data.name,expression:"selectedNode.data.name"}],staticClass:"form-control mb-1",attrs:{type:"text"},domProps:{value:t.selectedNode.data.name},on:{input:function(e){e.target.composing||t.$set(t.selectedNode.data,"name",e.target.value)}}}),t._v(" "),a("select",{staticClass:"form-control mb-2",attrs:{multiple:""},on:{change:t.addLink}},t._l(t.linksNodes,function(e){return e.id!==t.selectedNode.id?a("option",{key:e.id,domProps:{value:e.id}},[t._v(t._s(e.name))]):t._e()}),0),t._v(" "),a("button",{staticClass:"btn btn-success",attrs:{type:"button"},on:{click:t.updateNode}},[a("i",{staticClass:"fa-solid fa-save"},[t._v(" Сохранить")])])]):t._e(),t._v(" "),a("div",{staticClass:"col-12"},[a("h2",[t._v("Локации")]),t._v(" "),a("ul",{staticClass:"list-group"},t._l(t.nodes,function(e,n){return a("li",{key:n,staticClass:"list-group-item"},[t._v("\n              "+t._s(e.data.name)+"\n              "),a("button",{staticClass:"btn btn-success float-end",attrs:{type:"button"},on:{click:function(e){t.selectedNode=t.nodes[n]}}},[a("i",{staticClass:"fa-solid fa-pen-to-square"})])])}),0)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-8 border"},[e("div",{attrs:{id:"graph"}})])}]};var h=a("VU/8")(u,p,!1,function(t){a("kJB+")},null,null).exports;n.a.use(d.a);var v=new d.a({routes:[{path:"/",name:"HelloWorld",component:r},{path:"/editor",name:"editor",component:h}]});n.a.config.productionTip=!1,new n.a({el:"#app",router:v,components:{App:i},template:"<App/>"})},"bpV/":function(t,e){},"kJB+":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.57a361747e5900f0ba17.js.map